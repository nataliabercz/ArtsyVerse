<!DOCTYPE html>
{% extends 'main/base.html' %}
<html>
{% block content %}
<div class="container">
    <div class="col-md-12">
        <div id='calendar'></div>
    </div>
</div>
<script>
    $(document).ready(function () {
        var calendar = $('#calendar').fullCalendar({
            header: {
                left: 'prev,next today',
                center: 'title',
                right: 'month,agendaWeek,agendaDay'
            },
            buttonText: {
                today: 'Today',
                month: 'Month',
                week:  'Week',
                day:   'Day',
                list:  'List'
            },
            firstDay: 1,
            defaultView: 'agendaWeek',
            minTime: '10:00',
            events: 'events',

            eventClick: function (event) {
<!--            if event is class and user is coach -> MODAL-->
                if (confirm("Are you sure you want to reschedule this class?")) {
                    var id = event.id;
                    $.ajax({
                        type: "GET",
                        url: '/user/calendar/reschedule',
                        data: {'id': id},
                        dataType: "json",
                        success: function (data) {
                            calendar.fullCalendar('refetchEvents');
                            alert('Event Rescheduled');
                        },
                        error: function (data) {
                            alert('There is a problem!!!');
                        }
                    });
                }
            },
        });
   });
</script>
{% endblock %}
</html>